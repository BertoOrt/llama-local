"use strict";var countries={ABW:{color:"#A39BA4",name:"Aruba"},AFG:{color:"#A39BA4",name:"Afghanistan"},AGO:{color:"#A39BA4",name:"Angola"},AIA:{color:"#A39BA4",name:"Anguilla"},ALA:{color:"#A39BA4",name:"Åland Islands"},ALB:{color:"#A39BA4",name:"Albania"},AND:{color:"#A39BA4",name:"Andorra"},ARE:{color:"#A39BA4",name:"United Arab Emirates"},ARG:{color:"#A39BA4",name:"Argentina"},ARM:{color:"#A39BA4",name:"Armenia"},ASM:{color:"#A39BA4",name:"American Samoa"},ATA:{color:"#A39BA4",name:"Antarctica"},ATF:{color:"#A39BA4",name:"French Southern Territories"},ATG:{color:"#A39BA4",name:"Antigua and Barbuda"},AUS:{color:"#A39BA4",name:"Australia"},AUT:{color:"#A39BA4",name:"Austria"},AZE:{color:"#A39BA4",name:"Azerbaijan"},BDI:{color:"#A39BA4",name:"Burundi"},BEL:{color:"#A39BA4",name:"Belgium"},BEN:{color:"#A39BA4",name:"Benin"},BES:{color:"#A39BA4",name:"Bonaire, Sint Eustatius and Saba"},BFA:{color:"#A39BA4",name:"Burkina Faso"},BGD:{color:"#A39BA4",name:"Bangladesh"},BGR:{color:"#A39BA4",name:"Bulgaria"},BHR:{color:"#A39BA4",name:"Bahrain"},BHS:{color:"#A39BA4",name:"Bahamas"},BIH:{color:"#A39BA4",name:"Bosnia and Herzegovina"},BLM:{color:"#A39BA4",name:"Saint Barthélemy"},BLR:{color:"#A39BA4",name:"Belarus"},BLZ:{color:"#A39BA4",name:"Belize"},BMU:{color:"#A39BA4",name:"Bermuda"},BOL:{color:"#A39BA4",name:"Bolivia, Plurinational State of"},BRA:{color:"#A39BA4",name:"Brazil"},BRB:{color:"#A39BA4",name:"Barbados"},BRN:{color:"#A39BA4",name:"Brunei Darussalam"},BTN:{color:"#A39BA4",name:"Bhutan"},BVT:{color:"#A39BA4",name:"Bouvet Island"},BWA:{color:"#A39BA4",name:"Botswana"},CAF:{color:"#A39BA4",name:"Central African Republic"},CAN:{color:"#A39BA4",name:"Canada"},CCK:{color:"#A39BA4",name:"Cocos (Keeling) Islands"},CHE:{color:"#A39BA4",name:"Switzerland"},CHL:{color:"#A39BA4",name:"Chile"},CHN:{color:"#A39BA4",name:"China"},CIV:{color:"#A39BA4",name:"Côte d'Ivoire"},CMR:{color:"#A39BA4",name:"Cameroon"},COD:{color:"#A39BA4",name:"Congo, the Democratic Republic of the"},COG:{color:"#A39BA4",name:"Congo"},COK:{color:"#A39BA4",name:"Cook Islands"},COL:{color:"#A39BA4",name:"Colombia"},COM:{color:"#A39BA4",name:"Comoros"},CPV:{color:"#A39BA4",name:"Cabo Verde"},CRI:{color:"#A39BA4",name:"Costa Rica"},CUB:{color:"#A39BA4",name:"Cuba"},CUW:{color:"#A39BA4",name:"Curaçao"},CXR:{color:"#A39BA4",name:"Christmas Island"},CYM:{color:"#A39BA4",name:"Cayman Islands"},CYP:{color:"#A39BA4",name:"Cyprus"},CZE:{color:"#A39BA4",name:"Czech Republic"},DEU:{color:"#A39BA4",name:"Germany"},DJI:{color:"#A39BA4",name:"Djibouti"},DMA:{color:"#A39BA4",name:"Dominica"},DNK:{color:"#A39BA4",name:"Denmark"},DOM:{color:"#A39BA4",name:"Dominican Republic"},DZA:{color:"#A39BA4",name:"Algeria"},ECU:{color:"#A39BA4",name:"Ecuador"},EGY:{color:"#A39BA4",name:"Egypt"},ERI:{color:"#A39BA4",name:"Eritrea"},ESH:{color:"#A39BA4",name:"Western Sahara"},ESP:{color:"#A39BA4",name:"Spain"},EST:{color:"#A39BA4",name:"Estonia"},ETH:{color:"#A39BA4",name:"Ethiopia"},FIN:{color:"#A39BA4",name:"Finland"},FJI:{color:"#A39BA4",name:"Fiji"},FLK:{color:"#A39BA4",name:"Falkland Islands (Malvinas)"},FRA:{color:"#A39BA4",name:"France"},FRO:{color:"#A39BA4",name:"Faroe Islands"},FSM:{color:"#A39BA4",name:"Micronesia, Federated States of"},GAB:{color:"#A39BA4",name:"Gabon"},GBR:{color:"#A39BA4",name:"United Kingdom"},GEO:{color:"#A39BA4",name:"Georgia"},GGY:{color:"#A39BA4",name:"Guernsey"},GHA:{color:"#A39BA4",name:"Ghana"},GIB:{color:"#A39BA4",name:"Gibraltar"},GIN:{color:"#A39BA4",name:"Guinea"},GLP:{color:"#A39BA4",name:"Guadeloupe"},GMB:{color:"#A39BA4",name:"Gambia"},GNB:{color:"#A39BA4",name:"Guinea-Bissau"},GNQ:{color:"#A39BA4",name:"Equatorial Guinea"},GRC:{color:"#A39BA4",name:"Greece"},GRD:{color:"#A39BA4",name:"Grenada"},GRL:{color:"#A39BA4",name:"Greenland"},GTM:{color:"#A39BA4",name:"Guatemala"},GUF:{color:"#A39BA4",name:"French Guiana"},GUM:{color:"#A39BA4",name:"Guam"},GUY:{color:"#A39BA4",name:"Guyana"},HKG:{color:"#A39BA4",name:"Hong Kong"},HMD:{color:"#A39BA4",name:"Heard Island and McDonald Islands"},HND:{color:"#A39BA4",name:"Honduras"},HRV:{color:"#A39BA4",name:"Croatia"},HTI:{color:"#A39BA4",name:"Haiti"},HUN:{color:"#A39BA4",name:"Hungary"},IDN:{color:"#A39BA4",name:"Indonesia"},IMN:{color:"#A39BA4",name:"Isle of Man"},IND:{color:"#A39BA4",name:"India"},IOT:{color:"#A39BA4",name:"British Indian Ocean Territory"},IRL:{color:"#A39BA4",name:"Ireland"},IRN:{color:"#A39BA4",name:"Iran, Islamic Republic of"},IRQ:{color:"#A39BA4",name:"Iraq"},ISL:{color:"#A39BA4",name:"Iceland"},ISR:{color:"#A39BA4",name:"Israel"},ITA:{color:"#A39BA4",name:"Italy"},JAM:{color:"#A39BA4",name:"Jamaica"},JEY:{color:"#A39BA4",name:"Jersey"},JOR:{color:"#A39BA4",name:"Jordan"},JPN:{color:"#A39BA4",name:"Japan"},KAZ:{color:"#A39BA4",name:"Kazakhstan"},KEN:{color:"#A39BA4",name:"Kenya"},KGZ:{color:"#A39BA4",name:"Kyrgyzstan"},KHM:{color:"#A39BA4",name:"Cambodia"},KIR:{color:"#A39BA4",name:"Kiribati"},KNA:{color:"#A39BA4",name:"Saint Kitts and Nevis"},KOR:{color:"#A39BA4",name:"Korea, Republic of"},KWT:{color:"#A39BA4",name:"Kuwait"},LAO:{color:"#A39BA4",name:"Lao People's Democratic Republic"},LBN:{color:"#A39BA4",name:"Lebanon"},LBR:{color:"#A39BA4",name:"Liberia"},LBY:{color:"#A39BA4",name:"Libya"},LCA:{color:"#A39BA4",name:"Saint Lucia"},LIE:{color:"#A39BA4",name:"Liechtenstein"},LKA:{color:"#A39BA4",name:"Sri Lanka"},LSO:{color:"#A39BA4",name:"Lesotho"},LTU:{color:"#A39BA4",name:"Lithuania"},LUX:{color:"#A39BA4",name:"Luxembourg"},LVA:{color:"#A39BA4",name:"Latvia"},MAC:{color:"#A39BA4",name:"Macao"},MAF:{color:"#A39BA4",name:"Saint Martin (French part)"},MAR:{color:"#A39BA4",name:"Morocco"},MCO:{color:"#A39BA4",name:"Monaco"},MDA:{color:"#A39BA4",name:"Moldova, Republic of"},MDG:{color:"#A39BA4",name:"Madagascar"},MDV:{color:"#A39BA4",name:"Maldives"},MEX:{color:"#A39BA4",name:"Mexico"},MHL:{color:"#A39BA4",name:"Marshall Islands"},MKD:{color:"#A39BA4",name:"Macedonia, the former Yugoslav Republic of"},MLI:{color:"#A39BA4",name:"Mali"},MLT:{color:"#A39BA4",name:"Malta"},MMR:{color:"#A39BA4",name:"Myanmar"},MNE:{color:"#A39BA4",name:"Montenegro"},MNG:{color:"#A39BA4",name:"Mongolia"},MNP:{color:"#A39BA4",name:"Northern Mariana Islands"},MOZ:{color:"#A39BA4",name:"Mozambique"},MRT:{color:"#A39BA4",name:"Mauritania"},MSR:{color:"#A39BA4",name:"Montserrat"},MTQ:{color:"#A39BA4",name:"Martinique"},MUS:{color:"#A39BA4",name:"Mauritius"},MWI:{color:"#A39BA4",name:"Malawi"},MYS:{color:"#A39BA4",name:"Malaysia"},MYT:{color:"#A39BA4",name:"Mayotte"},NAM:{color:"#A39BA4",name:"Namibia"},NCL:{color:"#A39BA4",name:"New Caledonia"},NER:{color:"#A39BA4",name:"Niger"},NFK:{color:"#A39BA4",name:"Norfolk Island"},NGA:{color:"#A39BA4",name:"Nigeria"},NIC:{color:"#A39BA4",name:"Nicaragua"},NIU:{color:"#A39BA4",name:"Niue"},NLD:{color:"#A39BA4",name:"Netherlands"},NOR:{color:"#A39BA4",name:"Norway"},NPL:{color:"#A39BA4",name:"Nepal"},NRU:{color:"#A39BA4",name:"Nauru"},NZL:{color:"#A39BA4",name:"New Zealand"},OMN:{color:"#A39BA4",name:"Oman"},PAK:{color:"#A39BA4",name:"Pakistan"},PAN:{color:"#A39BA4",name:"Panama"},PCN:{color:"#A39BA4",name:"Pitcairn"},PER:{color:"#A39BA4",name:"Peru"},PHL:{color:"#A39BA4",name:"Philippines"},PLW:{color:"#A39BA4",name:"Palau"},PNG:{color:"#A39BA4",name:"Papua New Guinea"},POL:{color:"#A39BA4",name:"Poland"},PRI:{color:"#A39BA4",name:"Puerto Rico"},PRK:{color:"#A39BA4",name:"Korea, Democratic People's Republic of"},PRT:{color:"#A39BA4",name:"Portugal"},PRY:{color:"#A39BA4",name:"Paraguay"},PSE:{color:"#A39BA4",name:"Palestine, State of"},PYF:{color:"#A39BA4",name:"French Polynesia"},QAT:{color:"#A39BA4",name:"Qatar"},REU:{color:"#A39BA4",name:"Réunion"},ROU:{color:"#A39BA4",name:"Romania"},RUS:{color:"#A39BA4",name:"Russian Federation"},RWA:{color:"#A39BA4",name:"Rwanda"},SAU:{color:"#A39BA4",name:"Saudi Arabia"},SDN:{color:"#A39BA4",name:"Sudan"},SEN:{color:"#A39BA4",name:"Senegal"},SGP:{color:"#A39BA4",name:"Singapore"},SGS:{color:"#A39BA4",name:"South Georgia and the South Sandwich Islands"},SHN:{color:"#A39BA4",name:"Saint Helena, Ascension and Tristan da Cunha"},SJM:{color:"#A39BA4",name:"Svalbard and Jan Mayen"},SLB:{color:"#A39BA4",name:"Solomon Islands"},SLE:{color:"#A39BA4",name:"Sierra Leone"},SLV:{color:"#A39BA4",name:"El Salvador"},SMR:{color:"#A39BA4",name:"San Marino"},SOM:{color:"#A39BA4",name:"Somalia"},SPM:{color:"#A39BA4",name:"Saint Pierre and Miquelon"},SRB:{color:"#A39BA4",name:"Serbia"},SSD:{color:"#A39BA4",name:"South Sudan"},STP:{color:"#A39BA4",name:"Sao Tome and Principe"},SUR:{color:"#A39BA4",name:"Suriname"},SVK:{color:"#A39BA4",name:"Slovakia"},SVN:{color:"#A39BA4",name:"Slovenia"},SWE:{color:"#A39BA4",name:"Sweden"},SWZ:{color:"#A39BA4",name:"Swaziland"},SXM:{color:"#A39BA4",name:"Sint Maarten (Dutch part)"},SYC:{color:"#A39BA4",name:"Seychelles"},SYR:{color:"#A39BA4",name:"Syrian Arab Republic"},TCA:{color:"#A39BA4",name:"Turks and Caicos Islands"},TCD:{color:"#A39BA4",name:"Chad"},TGO:{color:"#A39BA4",name:"Togo"},THA:{color:"#A39BA4",name:"Thailand"},TJK:{color:"#A39BA4",name:"Tajikistan"},TKL:{color:"#A39BA4",name:"Tokelau"},TKM:{color:"#A39BA4",name:"Turkmenistan"},TLS:{color:"#A39BA4",name:"Timor-Leste"},TON:{color:"#A39BA4",name:"Tonga"},TTO:{color:"#A39BA4",name:"Trinidad and Tobago"},TUN:{color:"#A39BA4",name:"Tunisia"},TUR:{color:"#A39BA4",name:"Turkey"},TUV:{color:"#A39BA4",name:"Tuvalu"},TWN:{color:"#A39BA4",name:"Taiwan, Province of China"},TZA:{color:"#A39BA4",name:"Tanzania, United Republic of"},UGA:{color:"#A39BA4",name:"Uganda"},UKR:{color:"#A39BA4",name:"Ukraine"},UMI:{color:"#A39BA4",name:"United States Minor Outlying Islands"},URY:{color:"#A39BA4",name:"Uruguay"},USA:{color:"#A39BA4",name:"United States"},UZB:{color:"#A39BA4",name:"Uzbekistan"},VAT:{color:"#A39BA4",name:"Holy See (Vatican City State)"},VCT:{color:"#A39BA4",name:"Saint Vincent and the Grenadines"},VEN:{color:"#A39BA4",name:"Venezuela, Bolivarian Republic of"},VGB:{color:"#A39BA4",name:"Virgin Islands, British"},VIR:{color:"#A39BA4",name:"Virgin Islands, U.S."},VNM:{color:"#A39BA4",name:"Viet Nam"},VUT:{color:"#A39BA4",name:"Vanuatu"},WLF:{color:"#A39BA4",name:"Wallis and Futuna"},WSM:{color:"#A39BA4",name:"Samoa"},YEM:{color:"#A39BA4",name:"Yemen"},ZAF:{color:"#A39BA4",name:"South Africa"},ZMB:{color:"#A39BA4",name:"Zambia"},ZWE:{color:"#A39BA4",name:"Zimbabwe"}},color=function(o){switch(o){case"1":return"#A39BA8";case"2":return"#B8C5D6";case"3":return"orange";case"4":return"purple"}},mapElement=document.getElementById("map");if(mapElement)var map=new Datamap({element:mapElement,projection:"mercator",responsive:!0,fills:{defaultFill:"#A39BA8",authorHasTraveledTo:"#B8C5D6",highlightFillColor:"#B8C5D6"},done:function(o){o.svg.selectAll(".datamaps-subunit").on("click",function(o){window.location.href="/search?country="+o.properties.name.replace(/ /g,"-").toLowerCase()})},data:{USA:{fillKey:"authorHasTraveledTo"},JPN:{fillKey:"authorHasTraveledTo"},ITA:{fillKey:"authorHasTraveledTo"},CRI:{fillKey:"authorHasTraveledTo"},KOR:{fillKey:"authorHasTraveledTo"},DEU:{fillKey:"authorHasTraveledTo"}},geographyConfig:{highlightBorderColor:"#7d7d7d",highlightBorderWidth:1,popupTemplate:function(o,a){if(a)if(1==a.llamas)var A="llama";else var A="llamas";else{a={llamas:0};var A="llamas"}return['<div class="hoverinfo"><strong>',o.properties.name,"<br>",a.llamas," ",A,"</strong></div>"].join("")}}});var personalMapElement=document.getElementById("personalMap");if(personalMapElement){var id=$.cookie("user"),data;$.post("//localhost:3000/user/info",{id:id}).then(function(o){var a=countries,A=new Datamap({element:personalMapElement,projection:"mercator",responsive:!0,fills:{defaultFill:color("1"),authorHasTraveledTo:color("2"),authorHasLivedIn:color("3"),highlightFillColor:color("4")},done:function(o){o.svg.selectAll(".datamaps-subunit").on("click",function(o){a[o.id].color="orange",console.log(o),A.updateChoropleth(a)})},data:a,geographyConfig:{highlightBorderColor:"#7d7d7d",highlightBorderWidth:1,popupTemplate:function(o,a){return['<div class="hoverinfo"><strong>',o.properties.name,"<br>","</strong></div>"].join("")}}})})}$(window).on("resize",function(){map?map.resize():personalMap&&personalMap.resize()});